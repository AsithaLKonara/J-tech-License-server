# Makefile for PIC16F54A LED Pattern Player
# Generated by Upload Bridge

# Target name
TARGET = pic16f54a_pattern_player

# MCU settings
MCU = 16f54a
F_CPU = 20000000UL

# Toolchain
CC = xc8
OBJCOPY = xc8-objcopy

# Compiler flags
CFLAGS = --chip=$(MCU) --opt=all --warn=0 --summary=memory
CFLAGS += --rom=default --ram=default --stack=compiled
CFLAGS += --codeoffset=0 --dataoffset=0 --packdata=1

# Source files
SOURCES = professional_pattern_player.c

# Default target
all: $(TARGET).hex

# Compile hex file
$(TARGET).hex: $(SOURCES)
	$(CC) $(CFLAGS) -o$(TARGET).hex $(SOURCES)

# Upload to device
upload: $(TARGET).hex
	pk2cmd -PPIC$(MCU) -F$(TARGET).hex -M

# Clean build files
clean:
	rm -f *.hex *.obj *.lst *.p1 *.pre *.sdb *.sdb

# Show help
help:
	@echo "Available targets:"
	@echo "  all     - Build hex file"
	@echo "  upload  - Upload to 16F54A"
	@echo "  clean   - Remove build files"
	@echo "  help    - Show this help"

.PHONY: all upload clean help

